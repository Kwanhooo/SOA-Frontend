<!doctype html>
<html lang="zh-cn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PowerLife - æ™ºèƒ½å‡ºè¡Œ</title>
    <link rel="stylesheet" href="../../assets/style/global.css">
    <script src="../../assets/js/on-ready.js"></script>
    <link rel="stylesheet" href="../../assets/style/top-bar.css">
    <script src="../../assets/js/middleware.js"></script>

    <!--     æ ·å¼     -->
    <link rel="stylesheet" href="./navigate.css">
    <!----------------->

    <!-- è·¯å¾„è§„åˆ’ -->
    <style>
        #panel {
            position: absolute;
            background-color: white;
            max-height: 70%;
            overflow-y: auto;
            top: 0;
            right: 10rem;
            width: 250px;
            /*max-width: 400px;*/
            z-index: 9999999;
            border-radius: 1rem;
        }

        #panel .amap-call {
            background-color: #009cf9;
            border-top-left-radius: 4px;
            border-top-right-radius: 4px;
        }

        #panel .amap-lib-driving {
            border-bottom-left-radius: 4px;
            border-bottom-right-radius: 4px;
            overflow: hidden;
        }
    </style>
    <link rel="stylesheet" href="../../assets/style/extern/demo-center.css"/>
    <script src="https://a.amap.com/jsapi_demos/static/demo-center/js/demoutils.js"></script>
    <script type="text/javascript" src="https://cache.amap.com/lbs/static/addToolbar.js"></script>
    <!------------->
</head>
<body>
<!-- æ¸²æŸ“äº‘ -->
<script type="text/javascript" src="../../assets/js/three.min.js"></script>
<script type="text/javascript" src="../../assets/js/Detector.js"></script>
<script id="vs" type="x-shader/x-vertex">
    varying vec2 vUv;
    void main() {
        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
    }
</script>
<script id="fs" type="x-shader/x-fragment">
    uniform sampler2D map;
    uniform vec3 fogColor;
    uniform float fogNear;
    uniform float fogFar;
    varying vec2 vUv;
    void main() {
        float depth = gl_FragCoord.z / gl_FragCoord.w;
        float fogFactor = smoothstep(fogNear, fogFar, depth);
        gl_FragColor = texture2D(map, vUv);
        gl_FragColor.w *= pow(gl_FragCoord.z, 20.0);
        gl_FragColor = mix(gl_FragColor, vec4(fogColor, gl_FragColor.w), fogFactor);
    }
</script>
<script type="text/javascript" src="../../assets/graphics/render.js"></script>
<script type="text/javascript" src="../../assets/js/middleware.js"></script>
<!------------>

<div class="wrapper">
    <link rel="stylesheet" href="../../assets/style/top-bar.css">
    <link rel="stylesheet" href="../../assets/style/notification.css">
    <div id="top-bar-wrapper" class="glass">
        <div id="top-bar-title">
            <span onclick="gotoHome()">ç”Ÿæ´»èšåˆ</span>
            <span id="top-bar-sub-title"></span>
        </div>
        <div id="top-bar-btn-wrapper">
            <div>
                <img src="../../assets/svgs/notification.svg" onclick="toggleNotificationCenter()" class="icon pointer">
            </div>
            <div>
                <img src="../../assets/svgs/settings.svg" onclick="toggleSettings()" class="icon pointer">
            </div>
            <div>
                <img class="avatar pointer" src="../../assets/svgs/default-user-avatar.svg">
            </div>
        </div>
    </div>
    <div id="notification-center" class="glass">
        <div class="notification-item">
            <div class="header">
                <div class="title">
                    <div class="notification-icon-wrapper">
                        <img src="../../assets/image/weather.jpg" class="notification-icon">
                    </div>
                    <div class="title-text">å¤©æ°”</div>
                </div>
                <div class="btn">
                    <img src="../../assets/svgs/close.svg" class="icon pointer close">
                </div>
            </div>
            <hr>
            <div class="content">
                <div>
                    å»ºè®®ç©¿ç€è½»è–„çš„é•¿è¢–è¡¬è¡«æˆ–æ¯›è¡£ï¼ŒåŠ ä¸Šç‰›ä»”è£¤æˆ–é•¿è£¤ã€‚ä¹Ÿå¯ä»¥è€ƒè™‘ç©¿ç€å•å±‚çš„å¤¹å…‹æˆ–é£è¡£æ¥ä¿æš–ã€‚æœ€å¥½é€‰æ‹©å¸æ¹¿é€Ÿå¹²çš„é¢æ–™ï¼Œè¿™æ ·å¯ä»¥ä¿æŒèº«ä½“æ¸©æš–ï¼ŒåŒæ—¶å‡å°‘æ¹¿æ°”çš„å½±å“ã€‚
                </div>
            </div>
        </div>
    </div>
    <div id="global-mask"></div>
    <link rel="stylesheet" href="../../assets/style/settings.css">
    <link rel="stylesheet" href="../../assets/style/switch.css">
    <script src="../../assets/js/settings-context.js"></script>
    <div id="settings">
        <div class="settings-inner">
            <div class="settings-header">
                <div>è®¾å®š</div>
                <div>
                    <img onclick="toggleSettings()" src="../../assets/svgs/close.svg" class="icon pointer close">
                </div>
            </div>
            <div class="settings-body">
                <div class="settings-item">
                    <div class="item-inner">
                        <div class="row">
                            <div class="title">
                                <div>
                                    <img class="icon" src="../../assets/image/weather.jpg" alt="weather">
                                </div>
                                <div class="title">å¤©æ°”è®¢é˜…</div>
                            </div>
                            <div class="switch-wrapper">
                                <label class="form-switch">
                                    <input type="checkbox" id="weatherSubscription" onclick="toggleWeather()">
                                    <i></i>
                                </label>
                            </div>
                        </div>
                    </div>
                    <div class="description">
                        æ­¤åŠŸèƒ½éœ€ä»˜è´¹è®¢é˜…ï¼Œå¼€å¯åå°†ä¼šæ¯å¤©ä¸ºæ‚¨æ¨é€å¤©æ°”é¢„æŠ¥ï¼Œä»¥åŠAIç»™å‡ºçš„ç”Ÿæ´»å»ºè®®ã€‚
                    </div>
                </div>
                <div class="settings-item">
                    <div class="item-inner">
                        <div class="row">
                            <div class="title">
                                <div>
                                    <img class="icon" src="../../assets/image/map.jpg" alt="weather">
                                </div>
                                <div class="title">å®šä½æœåŠ¡</div>
                            </div>
                            <div class="switch-wrapper">
                                <label class="form-switch">
                                    <input type="checkbox" id="autoLocation" onclick="toggleAutoLocation()">
                                    <i></i>
                                </label>
                            </div>
                        </div>
                        <hr style="height: 1px;border: 0;padding: 0;margin: 0;position: relative;left: calc(50px + 2.5rem);opacity: 0">
                        <div class="row">
                            <div class="title">
                                <div style="width: calc(50px + 2.5rem)"></div>
                                <div class="title">å½“å‰å®šä½</div>
                            </div>
                            <div class="switch-wrapper">
                                <input class="value" id="geo" onchange="onLocationChange()">
                            </div>
                        </div>
                    </div>
                    <div class="description">
                        å¼€å¯åå°†ä¼šä½¿ç”¨æ‚¨çš„å®šä½æœåŠ¡ï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›æ›´åŠ ç²¾å‡†çš„ç”Ÿæ´»èšåˆã€‚
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="map-inner-wrapper">
        <div class="map-wrapper">
            <div id="container"></div>
            <div id="panel"></div>
        </div>
        <div id="map-option" class="glass">
            <div class="title">å‡ºè¡Œ</div>
            <div class="search-wrapper">
                <input type="search" id="navigate-search" placeholder="ğŸ” æœå¯»åœ°æ–¹æˆ–åœ°å€"
                       onchange="search(document.getElementById('navigate-search').value)">
            </div>
            <div class="section-title">ç«‹å³å‡ºå‘</div>
            <div class="go-wrapper light">
                <div class="go-item">
                    <img src="../../assets/image/call.png" class="pointer go-icon">
                    <div>æ‰“è½¦</div>
                </div>
                <div class="go-item" onclick="showAroundType()">
                    <img src="../../assets/image/around.png" class="pointer go-icon">
                    <div>å‘¨è¾¹</div>
                </div>
                <div class="go-item" onclick="switchMode()">
                    <img src="../../assets/image/transfer.png" class="pointer go-icon" id="mode-icon">
                    <div id="mode-switch-text">å…¬äº¤åœ°é“</div>
                </div>
                <div class="go-item" onclick="toggleTraffic()">
                    <img src="../../assets/image/traffic.png" class="pointer go-icon">
                    <div>è·¯å†µ</div>
                </div>
            </div>
            <div class="section-title">è¯¦ç»†ä¿¡æ¯</div>
            <div class="map-detail-wrapper">
                <div id="search-result-wrapper">
                </div>
            </div>
        </div>
    </div>
</div>

<!------ å¯¼èˆªæ ¸å¿ƒ ------>
<script type="text/javascript">
    window._AMapSecurityConfig = {
        securityJsCode: 'df749a70b425312c0de1e44c9879a891',
    }
</script>
<script src="https://webapi.amap.com/maps?v=2.0&key=28bfdb7e5f9a27d6a9f3a4d43ead912b"></script>
<script type="text/javascript" src="./core/init.js"></script>
<script type="text/javascript" src="./core/traffic.js"></script>
<script type="text/javascript" src="./core/search.js"></script>
<script type="text/javascript" src="./core/go.js"></script>
<script type="text/javascript" src="./core/mode-switch.js"></script>
<script type="text/javascript" src="./core/transit.js"></script>
<!--------------------->
</div>
</body>
</html>